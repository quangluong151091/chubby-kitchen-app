(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{257:function(e,t,a){e.exports=a(513)},262:function(e,t,a){},513:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(251),c=a.n(l),i=(a(262),a(2)),s=a(3),o=a(5),m=a(4),u=a(6),d=a(514),p=a(9),h={color:"white",textDecoration:"none",marginRight:"30px"},E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).isLogin=function(){return a.props.auth.uid?r.a.createElement("li",null,r.a.createElement(d.a,{to:"/",onClick:function(){return a.props.signOut()}},r.a.createElement("button",{type:"button",className:"btn btn-danger"},"Log Out"))):r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",{className:"mt-2"},r.a.createElement(d.a,{to:"/register",style:h},"Register")),r.a.createElement("li",null,r.a.createElement(d.a,{to:"/log-in"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Log In"))))},a.isAdmin=function(){var e=a.props,t=e.auth,n=e.profile;if(t.uid&&"Admin"===n.role)return r.a.createElement("li",{className:"mt-2"},r.a.createElement("a",{href:"https://chubby-kitchen-admin.firebaseapp.com/",rel:"noreferrer noopener",target:"_blank",style:h},r.a.createElement("span",{className:"font-weight-bold"},"Admin Dashboard")))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-fixed-top navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement(d.a,{className:"navbar-brand",to:"/"},"ChubbyKitchen")),r.a.createElement("div",null,r.a.createElement("ul",{className:"nav navbar-nav"},this.isAdmin(),r.a.createElement("li",{className:"mt-2"},r.a.createElement(d.a,{to:"/",style:h},"Home")),r.a.createElement("li",{className:"mt-2"},r.a.createElement(d.a,{to:"/events",style:h},"Events")),r.a.createElement("li",{className:"mt-2"},r.a.createElement(d.a,{to:"/archived",style:h},"Archived")),this.isLogin()))))}}]),t}(n.Component),v=Object(p.b)(function(e,t){return{auth:e.firebase.auth,profile:e.firebase.profile}},function(e,t){return{signOut:function(){e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(e({type:"LOGOUT"}))})}}})(E),f=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-5 mb-5"},r.a.createElement("hr",{className:"col-sm-12"}),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("ul",{className:"list-inline mb-2"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/"},"About")),r.a.createElement("li",{className:"list-inline-item"},"\u22c5"),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/"},"Contact")),r.a.createElement("li",{className:"list-inline-item"},"\u22c5"),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/"},"Terms of Use")),r.a.createElement("li",{className:"list-inline-item"},"\u22c5"),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/"},"Privacy Policy"))),r.a.createElement("p",{className:"text-muted small mb-4 mb-lg-0"},"\xa9 Chubby Kitchen 2019. All Rights Reserved."),r.a.createElement("small",{className:"text-muted text-center mb-3 font-weight-light font-italic"},"Working best on Google Chrome and FireFox")),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("ul",{className:"list-inline mb-2"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("i",{className:"fab fa-youtube-square fa-3x fa-fw text-primary"})),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("i",{className:"fab fa-facebook fa-3x fa-fw text-primary"})),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("i",{className:"fab fa-instagram fa-3x fa-fw text-primary"})))))))}}]),t}(n.Component),b=a(517),g=a(256),N=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"masthead"},r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":0,className:"active"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":1}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":2})),r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("img",{className:"stretch",src:"/css/img/slideshow/pic1.JPG",alt:"First slide"})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{className:"stretch",src:"/css/img/slideshow/pic2.JPG",alt:"Second slide"})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{className:"stretch",src:"/css/img/slideshow/pic3.JPG",alt:"Third slide"}))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next"))))}}]),t}(n.Component),O=a(166),y=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.auth.uid?null:r.a.createElement("section",{className:"call-to-action text-white text-center"},r.a.createElement("div",{className:"overlay"}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 mx-auto"},r.a.createElement("h4",{className:"mb-2 mt-5"},"Ready to get started? Sign up now!")),r.a.createElement("div",{className:"col-sm-12 mx-auto mt-3"},r.a.createElement("div",{className:"col-sm-12 mb-5"},r.a.createElement(O.a,{to:"/register"},r.a.createElement("button",{type:"button",className:"btn btn-lg btn-primary"},"Sign up!")))))))}}]),t}(n.Component),j=Object(p.b)(function(e,t){return{auth:e.firebase.auth}})(y),w=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"webInfo",className:"mt-5 mb-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("h2",{className:"page-header font-weight-bold mb-4"},"About Us"),r.a.createElement("p",null,"Welcome to The Chubby Kitchen! Since 2015, Chubby Kitchen has used hands-on cooking classes to bring people together over amazing food."),r.a.createElement("p",null," Rooted in family tradition, we've developed our classes to bring together guests of all backgrounds. After an evening of storytelling, laughter that only breaking bread can bring, it's common to see guests exchanging phone numbers at the end of class."),r.a.createElement("p",null,"Our seasonal recipes feature flavors from around the world, and from our own backyard, and are both approachable and illuminating for cooks of all skill levels. We regularly appear on TV and in demonstrations around the region, but we are in our element making memories with new friends in the Chubby kitchen."),r.a.createElement("h2",{className:"mt-5 page-header font-weight-bold mb-4 text-center"},"What We Do"),r.a.createElement("div",{className:"row text-center font-italic"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,"Hands-On Cooking Classes"),r.a.createElement("li",null,"TV Appearances"),r.a.createElement("li",null,"Chef's Tables"),r.a.createElement("li",null,"Kitchen Rentals"))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,"Private Parties"),r.a.createElement("li",null,"Take-Out + Dinner Kits"),r.a.createElement("li",null,"Theme Dinners"),r.a.createElement("li",null,"Kids' Workshops"))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,"Corporate Team Building"),r.a.createElement("li",null,"Menu Consultation"),r.a.createElement("li",null,"Food + Drink Pairing Dinners"),r.a.createElement("li",null,"Creating tutorial videos")))))))}}]),t}(n.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-sm-4 my-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(O.a,{to:"/events/"+this.props.eventId+"/"+this.props.eventTitle},r.a.createElement("h4",{className:"card-title text-truncate text-primary"},this.props.eventTitle)),r.a.createElement("p",{className:"font-weight-bold card-text text-truncate"},r.a.createElement("span",null,this.props.eventDate," "),"-",r.a.createElement("span",null," enroll before ",r.a.createElement("kbd",{className:"bg-danger"},this.props.eventLastEnroll))),r.a.createElement("p",{className:"card-text text-truncate"},this.props.eventDescription),r.a.createElement(O.a,{to:"/events/"+this.props.eventId+"/"+this.props.eventTitle,className:"text-danger"},"More Detail!"))))}}]),t}(n.Component),x=a(11),L=a(13),k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).dateToString=function(e){return e=(e=e.slice(0,10)).slice(8,10)+"/"+e.slice(5,7)+"/"+e.slice(0,4)},a.showUpcoming=function(){if(a.props.eventList)return a.props.eventList.map(function(e,t){return r.a.createElement(C,{key:t,event:e,eventId:e.id,eventTitle:e.title,eventDescription:e.description,eventDate:a.dateToString(e.date),eventLastEnroll:a.dateToString(e.lastdate_enroll),eventLastPayment:a.dateToString(e.lastdate_payment)})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"upcomingEvent",className:"mt-5"},r.a.createElement("h2",{className:"page-header font-weight-bold mb-4"},r.a.createElement("i",{className:"fas fa-bullhorn fa-md fa-fw"}),"\xa0 Upcoming Events"),r.a.createElement("div",{className:"row"},this.showUpcoming()),r.a.createElement("div",{className:"text-right mb-4"},r.a.createElement(O.a,{to:"/events",className:"btn btn-success"},"More event...")))}}]),t}(n.Component),S=Object(x.compose)(Object(p.b)(function(e,t){return{eventList:e.firestore.ordered.eventList}}),Object(L.firestoreConnect)([{collection:"eventList",limit:3,orderBy:["lastdate_enroll","asc"],startAt:(new Date).toISOString()}]))(k),I=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-sm-6 my-6 text-center mt-3 mb-3"},r.a.createElement(O.a,{to:"/archived/"+this.props.archiveId+"/"+this.props.archiveTitle,className:"h4 card-title text-truncate text-danger"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",src:this.props.archiveImg,height:"300px",alt:"Archive Thumbnail"}),r.a.createElement("div",{className:"card-body"},this.props.archiveCaption))))}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).showRecently=function(){if(a.props.archiveList){for(var e=a.props.archiveList.sort(function(){return.5-Math.random()}),t=[],n=0;n<2;n++)t.push(e[n]);return t.map(function(e,t){return r.a.createElement(I,{key:t,archive:e,archiveId:e.id,archiveTitle:e.title,archiveDescription:e.description,archiveImg:e.image,archiveCaption:e.caption})})}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"recentEvent",className:"mt-5"},r.a.createElement("h2",{className:"page-header font-weight-bold mb-4"},r.a.createElement("i",{className:"fas fa-bookmark fa-sm fa-fw"}),"\xa0 Archived Events"),r.a.createElement("div",{className:"row"},this.showRecently()),r.a.createElement("div",{className:"text-right mb-4 mt-4"},r.a.createElement(O.a,{to:"/archived",className:"btn btn-danger"},"See More!")))}}]),t}(n.Component),D=Object(x.compose)(Object(p.b)(function(e,t){return{archiveList:e.firestore.ordered.archiveList}}),Object(L.firestoreConnect)([{collection:"archiveList"}]))(T),A=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement(N,null),r.a.createElement("div",{className:"container"},r.a.createElement(w,null),r.a.createElement("hr",null),r.a.createElement(S,null),r.a.createElement("hr",null),r.a.createElement(D,null)),r.a.createElement(j,null))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).isLogin=function(){return a.props.auth.uid?r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(O.a,{to:"/"},"Homepage")),r.a.createElement("li",null,r.a.createElement(O.a,{to:"/edit-user-info"},"Edit Profile")),r.a.createElement("li",null,r.a.createElement(O.a,{to:"/enrollment"},"Enrolled Events")),r.a.createElement("li",null,r.a.createElement(O.a,{to:"/",onClick:function(){return a.props.signOut()}},"Log Out")))):r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(O.a,{to:"/log-in"},"Log In")))},a.isProfile=function(){var e=a.props.profile;if(e.initials)return r.a.createElement("div",{className:"text-center mb-2"},r.a.createElement("div",{className:"avatar alert-success"},r.a.createElement("span",{className:"text-initial"},e.initials)))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.profile;return r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("div",{className:"card border-primary mb-3",style:{maxWidth:"18rem"}},r.a.createElement("div",{className:"card-header bg-primary text-white"},"Welcome, ",e.firstName?e.firstName:null,"!"),r.a.createElement("div",{className:"card-body text-dark"},this.isProfile(),this.isLogin())))}}]),t}(n.Component),_=Object(p.b)(function(e,t){return{auth:e.firebase.auth,profile:e.firebase.profile}},function(e,t){return{signOut:function(){e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(e({type:"LOGOUT"}))})}}})(P),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).to_slug=function(e){return e=(e=(e=(e=(e=e.toLowerCase()).replace(/([^0-9a-z-\s])/g,"")).replace(/(\s+)/g,"-")).replace(/^-+/g,"")).replace(/-+$/g,"")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card mt-3 mb-3 border-danger"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(O.a,{to:"/events/"+this.props.eventId+"/"+this.props.eventTitle},r.a.createElement("h5",{className:"text-truncate text-primary"},this.props.eventTitle)),r.a.createElement("p",{className:"font-weight-bold card-text text-truncate"},r.a.createElement("span",null,this.props.eventDate," "),"-",r.a.createElement("span",null," enroll before ",r.a.createElement("kbd",{className:"bg-danger"},this.props.eventLastEnroll))),r.a.createElement("p",{className:"card-text text-truncate"},this.props.eventDescription),r.a.createElement(O.a,{to:"/events/"+this.props.eventId+"/"+this.props.eventTitle,className:"text-danger"},"Read more..."))))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).dateToString=function(e){return e=(e=e.slice(0,10)).slice(8,10)+"/"+e.slice(5,7)+"/"+e.slice(0,4)},a.getData=function(){if(a.props.eventList)return a.props.eventList.map(function(e,t){return r.a.createElement(R,{key:t,lineNo:t+1,event:e,eventId:e.id,eventTitle:e.title,eventDescription:e.description,eventTime:e.time,eventDate:a.dateToString(e.date),eventLastEnroll:a.dateToString(e.lastdate_enroll),eventLastPayment:a.dateToString(e.lastdate_payment),eventPlace:e.place,eventPrice:e.price})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.getData())}}]),t}(n.Component),U=Object(x.compose)(Object(p.b)(function(e,t){return{eventList:e.firestore.ordered.eventList}}),Object(L.firestoreConnect)([{collection:"eventList",orderBy:["date","asc"],startAt:(new Date).toISOString()}]))(F),G=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(N,null),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("p",{className:"h1 font-weight-bold text-center"},"ON GOING EVENTS"),r.a.createElement("hr",null),r.a.createElement(U,null)),r.a.createElement(_,null))))}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).showArchive=function(){if(a.props.archiveList)return a.props.archiveList.sort(function(){return.5-Math.random()}).map(function(e,t){return r.a.createElement(I,{key:t,archive:e,archiveId:e.id,archiveTitle:e.title,archiveDescription:e.description,archiveImg:e.image,archiveCaption:e.caption})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"archiveList",className:"container"},r.a.createElement("div",{className:"row"},this.showArchive()))}}]),t}(n.Component),M=Object(x.compose)(Object(p.b)(function(e,t){return{archiveList:e.firestore.ordered.archiveList}}),Object(L.firestoreConnect)([{collection:"archiveList"}]))(W),V=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(N,null),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("p",{className:"h1 font-weight-bold text-center"},"ALL ARCHIVES EVENT"),r.a.createElement("hr",null),r.a.createElement(M,null)),r.a.createElement(_,null))))}}]),t}(n.Component),H=a(33),B=a(515),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).isChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(H.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a.state={email:"",password:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.authError;return t.auth.uid?r.a.createElement(B.a,{to:"/"}):r.a.createElement("section",{id:"login"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4 mx-auto"},r.a.createElement("div",{className:"card mt-5"},r.a.createElement("h5",{className:"card-header text-center font-weight-bold bg-primary text-white"},"Log In"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{action:"POST",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-3 mt-4"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},r.a.createElement("i",{className:"fas fa-user fa-sm"}))),r.a.createElement("input",{onChange:function(t){return e.isChange(t)},type:"email",name:"email",className:"form-control",placeholder:"Email"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-4"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},r.a.createElement("i",{className:"fas fa-lock fa-sm"}))),r.a.createElement("input",{onChange:function(t){return e.isChange(t)},type:"password",name:"password",className:"form-control",placeholder:"Password",pattern:".{6,}",title:"Password must be minimum 6 characters"}))),r.a.createElement("div",{className:"text-center text-danger"},a?r.a.createElement("p",null,a):null),r.a.createElement("button",{type:"submit",className:"btn btn-success mt-3"},"Log In")),r.a.createElement("hr",null),"Don't have an account!",r.a.createElement(O.a,{to:"/register"},r.a.createElement("span",{className:"text-primary"}," Sign Up Here"))))))))}}]),t}(n.Component),q=Object(p.b)(function(e,t){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e,t){return{signIn:function(t){e(function(e){return function(t,a,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then(function(){t({type:"LOGIN_SUCCESS"})}).catch(function(e){t({type:"LOGIN_ERROR",error:e})})}}(t))}}})(K),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).isChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(H.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a.state={email:"",password:"",firstName:"",lastName:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.authError;return t.auth.uid?r.a.createElement(B.a,{to:"/"}):r.a.createElement("section",{id:"register"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 mx-auto"},r.a.createElement("div",{className:"card mt-4"},r.a.createElement("h5",{className:"card-header text-center font-weight-bold bg-success text-white"},"Register New Account"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"text-center text-danger"},a?r.a.createElement("p",null,a):null),r.a.createElement("form",{action:"POST",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{onChange:function(t){return e.isChange(t)},type:"email",className:"form-control",name:"email",id:"email",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password: ",r.a.createElement("small",null,"(min. 6 character)")),r.a.createElement("input",{onChange:function(t){return e.isChange(t)},type:"password",pattern:".{6,}",title:"Minimum 6 characters",className:"form-control",name:"password",id:"password",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"First Name:"),r.a.createElement("input",{onChange:function(t){return e.isChange(t)},type:"text",className:"form-control",name:"firstName",id:"firstName"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"address"},"Last Name:"),r.a.createElement("input",{onChange:function(t){return e.isChange(t)},type:"text",className:"form-control",name:"lastName",id:"lastName"})),r.a.createElement("div",{className:"form-group ml-4 mt-4"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"agreeTerm",defaultValue:"agreeTerm",required:!0}),r.a.createElement("label",{className:"form-check-label",htmlFor:"agreeTerm"},"I Agree To The Chubby Kitchen Terms and Conditions")),r.a.createElement("button",{type:"submit",className:"btn btn-block btn-primary mt-4"},"Create New Account")),r.a.createElement("hr",null),"Already Have Account!",r.a.createElement(O.a,{to:"/log-in"},r.a.createElement("span",{className:"text-primary"}," Log In Here "))))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(n.Component),z=Object(p.b)(function(e,t){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e,t){return{signUp:function(t){e(function(e){return function(t,a,n){var r=n.getFirebase,l=n.getFirestore,c=r(),i=l();c.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(a){i.collection("userList").doc(a.user.uid).set({firstName:e.firstName,lastName:e.lastName,email:e.email,initials:e.firstName[0]+e.lastName[0],address:"",role:"Member",event_enrolment:[]}).then(function(){t({type:"SIGN_UP_SUCCESS"})}).catch(function(e){t({type:"SIGN_UP_ERROR",error:e})})})}}(t))}}})(J),$=a(254),Q=a.n($),X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentWillMount=function(){a.props.profile&&a.props.auth&&a.setState({userId:a.props.auth.uid,firstName:a.props.profile.firstName,lastName:a.props.profile.lastName,address:a.props.profile.address})},a.isChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(H.a)({},n,r))},a.handleSave=function(e){e.preventDefault(),a.setState({isAlert:!0}),a.props.updateInfo(a.state)},a.state={userId:"",firstName:"",lastName:"",address:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.profile;return r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("h2",{className:"font-weight-bold mb-4"},"Update profile information"),r.a.createElement("form",{action:"POST",onSubmit:function(t){return e.handleSave(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{type:"email",className:"form-control",name:"email",id:"email",defaultValue:t.email,disabled:!0}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"Email cannot be changed!")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"First name:"),r.a.createElement("input",{type:"text",className:"form-control",name:"firstName",id:"firstName",defaultValue:t.firstName,onChange:function(t){return e.isChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"passwordCheck"},"Last name:"),r.a.createElement("input",{type:"text",className:"form-control",name:"lastName",id:"lastName",defaultValue:t.lastName,onChange:function(t){return e.isChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"address"},"Address:"),r.a.createElement("input",{type:"text",className:"form-control",name:"address",id:"address",defaultValue:t.address,onChange:function(t){return e.isChange(t)}})),r.a.createElement("button",{type:"submit",className:"btn btn-success mt-4"},"SAVE")))}}]),t}(n.Component),Z=Object(p.b)(function(e,t){return{auth:e.firebase.auth}},function(e,t){return{updateInfo:function(t){e(function(e){return function(t,a,n){n.getFirebase,(0,n.getFirestore)().collection("userList").doc(e.userId).update({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],address:e.address}).then(function(){t({type:"UPDATE_SUCCESS"})}).catch(function(e){t({type:"UPDATE_ERROR",error:e})})}}(t))}}})(X),Y=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.profile;return t.uid?r.a.createElement("section",null,r.a.createElement(N,null),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement(_,null),r.a.createElement(Z,{profile:a})))):r.a.createElement(B.a,{to:"/log-in"})}}]),t}(n.Component),ee=Object(p.b)(function(e,t){return{auth:e.firebase.auth,profile:e.firebase.profile}})(Y),te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentWillMount=function(){if(a.props.event.user_enrolment){a.setState({userEnroll:a.props.event.user_enrolment});var e=a.props,t=e.auth;e.event.user_enrolment.forEach(function(e){var n=e.split("/");t.uid===n[0]&&a.setState({isEnroll:!0})})}},a.componentDidMount=function(){var e=a.props,t=e.auth,n=e.event,r=e.eventId,l=e.profile;a.setState({eventId:r,eventInfo:n}),t.uid&&(a.setState({userId:t.uid,userInfo:l}),l&&a.setState({userEventList:l.event_enrolment}))},a.handleEnroll=function(e){e.preventDefault();var t=a.props,n=t.auth,r=t.eventId,l=t.eventTitle,c=a.state,i=c.userEnroll,s=c.userEventList,o="";o+=n.uid,o+="/",o+=n.email,i.push(o);var m="";m+=r,m+="/",m+=l,s.push(m),a.setState({isEnroll:!0}),a.props.enrollEvent(a.state)},a.handleCancel=function(e){e.preventDefault();var t=a.props,n=t.auth,r=t.eventId,l=t.eventTitle,c=a.state,i=c.userEnroll,s=c.userEventList,o="";o+=n.uid,o+="/",o+=n.email,i.splice(i.indexOf(o),1);var m="";m+=r,m+="/",m+=l,s.splice(s.indexOf(m),1),a.setState({isEnroll:!1}),a.props.cancelEnrollEvent(a.state)},a.isLogin=function(){var e=new Date,t=a.props,n=t.auth,l=t.event,c=a.state.isEnroll,i=new Date(l.lastdate_enroll),s=new Date(i.getTime()+79199e3);return console.log(s),n.uid&&c&&e>s?r.a.createElement("button",{className:"btn btn-block btn-danger font-weight-bold mt-5",disabled:!0},"CANCEL ENROLL - Deadline for enrollment has passed, you can not cancel"):n.uid&&c&&e<=s?r.a.createElement("button",{type:"button",onClick:function(e){return a.handleCancel(e)},className:"btn btn-block btn-danger font-weight-bold mt-5"},"CANCEL ENROLL"):n.uid&&e<=s?r.a.createElement("button",{type:"button",onClick:function(e){return a.handleEnroll(e)},className:"btn btn-block btn-success font-weight-bold mt-5"},"ENROLL NOW"):n.uid&&e>s?(console.log("true"),r.a.createElement("button",{className:"btn btn-block btn-secondary font-weight-bold mt-5",disabled:!0},"Deadline for enrollment has passed")):r.a.createElement("div",{className:"mt-5 text-danger text-center font-italic"},r.a.createElement(d.a,{to:"/log-in"},r.a.createElement("kbd",{className:"bg-danger"},"Please login to enroll this event!")))},a.state={userId:"",userInfo:{},eventId:"",eventInfo:{},userEnroll:[],userEventList:[],isEnroll:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("h2",{className:"font-weight-bold"},this.props.eventTitle),r.a.createElement("h4",{className:"font-italic font-weight-bold text-danger mt-3 mb-3"},0!==this.props.eventPrice?this.props.eventPrice+" \u20ac":"FREE"),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-sm-3 mt-3"},r.a.createElement("ul",{className:"list-unstyled font-weight-bold"},r.a.createElement("li",null,r.a.createElement("span",{className:"text-info"},"Location:")),r.a.createElement("li",null,r.a.createElement("span",{className:"text-info"},"Time:")),r.a.createElement("li",null,r.a.createElement("span",{className:"text-success"},"Date:")),r.a.createElement("li",null,r.a.createElement("span",{className:"text-danger"},"Enroll before:")),r.a.createElement("li",null,r.a.createElement("span",{className:"text-secondary"},"Payment before:")))),r.a.createElement("div",{className:"col-sm-9 mt-3"},r.a.createElement("ul",{className:"list-unstyled font-weight-bold"},r.a.createElement("li",null,this.props.eventPlace," room"),r.a.createElement("li",null,this.props.eventTime),r.a.createElement("li",{className:"text-success"},this.props.eventDate),r.a.createElement("li",{className:"text-danger"},this.props.eventLastEnroll),r.a.createElement("li",{className:"text-secondary"},this.props.eventLastPayment)))),r.a.createElement("div",{className:"text-justify"},this.props.eventDescription,this.isLogin()))}}]),t}(n.Component),ae=Object(p.b)(function(e,t){return{eventId:t.eventId,auth:e.firebase.auth,profile:e.firebase.profile}},function(e,t){return{enrollEvent:function(t){e(function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)();r.collection("eventList").doc(e.eventId).update({user_enrolment:e.userEnroll}).then(r.collection("userList").doc(e.userId).update({event_enrolment:e.userEventList})),Q()({method:"post",url:"".concat("https://www.cc.puv.fi/~e1500949/php/chubbykitchen/enrollConfirm.php"),headers:{"content-type":"application/json"},data:e}).then(function(e){return console.log(e.data)})}}(t))},cancelEnrollEvent:function(t){e(function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)();r.collection("eventList").doc(e.eventId).update({user_enrolment:e.userEnroll}).then(r.collection("userList").doc(e.userId).update({event_enrolment:e.userEventList}))}}(t))}}})(te),ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).dateToString=function(e){return e=(e=e.slice(0,10)).slice(8,10)+"/"+e.slice(5,7)+"/"+e.slice(0,4)},a.showDetail=function(){if(a.props.event)return r.a.createElement(ae,{event:a.props.event,eventId:a.props.match.params.id,eventTitle:a.props.event.title,eventDescription:a.props.event.description,eventTime:a.props.event.time,eventDate:a.dateToString(a.props.event.date),eventLastEnroll:a.dateToString(a.props.event.lastdate_enroll),eventLastPayment:a.dateToString(a.props.event.lastdate_payment),eventPlace:a.props.event.place,eventPrice:a.props.event.price})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(N,null),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},this.showDetail(),r.a.createElement(_,null))))}}]),t}(n.Component),re=Object(x.compose)(Object(p.b)(function(e,t){var a=t.match.params.id,n=e.firestore.data.eventList;return{event:n?n[a]:null}}),Object(L.firestoreConnect)([{collection:"eventList"}]))(ne),le=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("h2",{className:"font-weight-bold"},this.props.archiveTitle),r.a.createElement("div",{className:"mt-4 mb-4"},this.props.archiveDescription),r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:this.props.archiveImg,className:"img-fluid img-center",alt:"Event Thumbnail"})),r.a.createElement("h6",{className:"font-italic mt-3 text-center "},this.props.archiveCaption))}}]),t}(n.Component),ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).showDetail=function(){if(a.props.archive)return r.a.createElement(le,{archive:a.props.archive,archiveId:a.props.archive.id,archiveTitle:a.props.archive.title,archiveDescription:a.props.archive.description,archiveImg:a.props.archive.image,archiveCaption:a.props.archive.caption})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(N,null),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},this.showDetail(),r.a.createElement(_,null))))}}]),t}(n.Component),ie=Object(x.compose)(Object(p.b)(function(e,t){var a=t.match.params.id,n=e.firestore.data.archiveList;return{archive:n?n[a]:null}}),Object(L.firestoreConnect)([{collection:"archiveList"}]))(ce),se=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).dateToString=function(e){return e=(e=e.slice(0,10)).slice(8,10)+"/"+e.slice(5,7)+"/"+e.slice(0,4)},a.getEnrollList=function(){if(a.props.enrollList)return a.props.enrollList.map(function(e,t){return r.a.createElement(R,{key:t,lineNo:t+1,event:e,eventId:e.id,eventTitle:e.title,eventDescription:e.description,eventTime:e.time,eventDate:a.dateToString(e.date),eventLastEnroll:a.dateToString(e.lastdate_enroll),eventLastPayment:a.dateToString(e.lastdate_payment),eventPlace:e.place,eventPrice:e.price})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement("section",null,r.a.createElement(N,null),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement(_,null),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("p",{className:"h1 font-weight-bold"},"Enrolled Events"),r.a.createElement("hr",null),this.getEnrollList())))):r.a.createElement(B.a,{to:"/log-in"})}}]),t}(n.Component),oe=Object(x.compose)(Object(p.b)(function(e,t){var a=e.firebase.profile.event_enrolment,n=e.firestore.ordered.eventList,r=[];return a&&n&&(a.forEach(function(e){var t=e.split("/");n.forEach(function(e){t[0]===e.id&&r.push(e)})}),r.sort(function(e,t){return e.date.localeCompare(t.date)||e.time.localeCompare(t.time)})),{auth:e.firebase.auth,profile:e.firebase.profile,eventList:n,enrollList:r}}),Object(L.firestoreConnect)([{collection:"eventList",orderBy:["date","asc"],startAt:(new Date).toISOString()}]))(se),me=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(g.a,{exact:!0,path:"/",component:A}),r.a.createElement(g.a,{exact:!0,path:"/events",component:G}),r.a.createElement(g.a,{exact:!0,path:"/archived",component:V}),r.a.createElement(g.a,{path:"/log-in",component:q}),r.a.createElement(g.a,{path:"/register",component:z}),r.a.createElement(g.a,{path:"/edit-user-info",component:ee}),r.a.createElement(g.a,{path:"/events/:id/:slug",component:re}),r.a.createElement(g.a,{path:"/archived/:id/:slug",component:ie}),r.a.createElement(g.a,{path:"/enrollment",component:oe}),r.a.createElement(g.a,{component:A})))}}]),t}(n.Component),ue=a(516),de=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ue.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(me,null),r.a.createElement(f,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=a(255),he=a(72);a(481),a(486),a(487);he.initializeApp({apiKey:"AIzaSyD_sI0Le2qEXByl5im7F33kM615d_fjkZQ",authDomain:"chubby-kitchen.firebaseapp.com",databaseURL:"https://chubby-kitchen.firebaseio.com",projectId:"chubby-kitchen",storageBucket:"chubby-kitchen.appspot.com",messagingSenderId:"1093221764874"});he.database().ref("EventList/").orderByChild("lastdate_enroll").startAt((new Date).toISOString()),he.database().ref("ArchiveEvent/");var Ee=a(28),ve={authError:null},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(Ee.a)({},e,{authError:"Invalid email or password!"});case"LOGIN_SUCCESS":return Object(Ee.a)({},e,{authError:null});case"LOGOUT":return e;case"SIGN_UP_SUCCESS":return Object(Ee.a)({},e,{authError:null});case"SIGN_UP_ERROR ":return Object(Ee.a)({},e,{authError:t.error.message});default:return e}},be={eventList:[]},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EVENT_LIST":return Object(Ee.a)({},e,{eventList:t.eventList});default:return e}},Ne={archiveList:[]},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ARCHIVE_LIST":return Object(Ee.a)({},e,{archiveList:t.archiveList});default:return e}},ye=a(102),je=a(11),we=je.combineReducers({auth:fe,event:ge,archive:Oe,firebase:L.firebaseReducer,firestore:ye.firestoreReducer}),Ce=je.createStore(we,Object(x.compose)(Object(x.applyMiddleware)(pe.a.withExtraArgument({getFirebase:L.getFirebase,getFirestore:ye.getFirestore})),Object(ye.reduxFirestore)(he),Object(L.reactReduxFirebase)(he,{useFirestoreForProfile:!0,userProfile:"userList",attachAuthIsReady:!0})));Ce.firebaseAuthIsReady.then(function(){c.a.render(r.a.createElement(p.a,{store:Ce},r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})})}},[[257,1,2]]]);
//# sourceMappingURL=main.5b5b4933.chunk.js.map